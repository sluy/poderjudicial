"use strict";(self["webpackChunkpoderjudicial"]=self["webpackChunkpoderjudicial"]||[]).push([[267],{9007:(e,n,a)=>{a.d(n,{LP:()=>i,nJ:()=>o,GJ:()=>c,IU:()=>l,xJ:()=>d,uf:()=>p});var t=a(5474),r=a(1959);a(6395);let s=(0,r.iH)(null);(0,r.iH)(!1);function i(){return o()?null:s.value.access_token}function u(){return s.value.userdata}function o(){return!s.value}function c(){return!o()&&(1===u().admin||!0===u().admin)}async function l(e,n,a){try{await t.api.post("auth/signup",{name:e,email:n,password:a});return!0}catch(r){return r.response&&401===r.response.status?"Error":"Internal error."}}async function d(e,n){console.log("iniciando sesión... plop",e,n);try{let a=await t.api.post("auth/login",{email:e,password:n});s.value=a.data}catch(a){return a.response&&401===a.response.status?"Invalid credentials":"Internal error."}}async function p(){if(!o())try{await t.api.get("auth/logout",{headers:{Authorization:"Bearer "+i()}})}catch(e){}return s=(0,r.iH)(null),!0}},2267:(e,n,a)=>{a.r(n),a.d(n,{default:()=>p});var t=a(3673);const r={class:"q-pa-md",style:{"min-width":"500px"}};function s(e,n,a,s,i,u){return(0,t.wg)(),(0,t.iD)("div",r," Cerrar sesión ")}var i=a(9007),u=a(6417),o=a(6249);const c=(0,t.aZ)({name:"Signout",setup(){return{}},async mounted(){o.Z.show(),await(0,i.uf)(),this.$router.push({name:"login"}),u.Z.create({color:"positive",message:"Sesión cerrada exitosamente."}),o.Z.hide()}});var l=a(4260);const d=(0,l.Z)(c,[["render",s]]),p=d}}]);